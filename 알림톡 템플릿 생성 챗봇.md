# 알림톡 템플릿 생성 챗봇

AI 기반 알림톡 템플릿 생성 및 검증 시스템의 웹 인터페이스입니다.

## 주요 기능

### 🤖 AI 챗봇 인터페이스
- 카카오톡과 유사한 모던한 채팅 UI
- 실시간 메시지 교환
- 단계별 진행 상황 표시
- 반응형 디자인 (모바일/데스크톱 지원)

### 📝 알림톡 템플릿 생성 워크플로우
1. **요청 접수**: 사용자가 원하는 알림톡 내용 입력
2. **유사 템플릿 추천**: 기존 승인된 템플릿 중 유사한 것 제시
3. **스타일 선택**: 신규 생성 시 스타일 선택 (기본형/이미지형/아이템리스트형)
4. **AI 생성**: LangChain 기반 템플릿 자동 생성
5. **규정 검증**: 알림톡 규정 준수 여부 자동 검증
6. **자동 수정**: AI가 최대 3회까지 자동 수정 시도
7. **수동 수정**: 필요시 사용자가 직접 수정 가능
8. **최종 승인**: 규정을 준수하는 템플릿 제공

### 🔍 고급 검증 시스템
- **규정 준수 검증**: 정보통신망법 및 카카오 내부 기준 준수
- **과거 사례 분석**: 승인/반려된 템플릿 데이터베이스 활용
- **다단계 추론**: 사실 확인 → 규정 연결 → 최종 결론
- **자동 수정**: AI가 문제점을 파악하고 자동으로 개선

## 기술 스택

### Backend
- **Flask**: Python 웹 프레임워크
- **LangChain**: AI 워크플로우 관리
- **LangGraph**: 상태 기반 AI 워크플로우
- **OpenAI GPT-4**: 자연어 처리 및 생성
- **ChromaDB**: 벡터 데이터베이스
- **FlashRank**: 문서 재순위화

### Frontend
- **React**: 사용자 인터페이스
- **Tailwind CSS**: 스타일링
- **shadcn/ui**: UI 컴포넌트
- **Lucide Icons**: 아이콘
- **Vite**: 빌드 도구

### AI/ML
- **OpenAI Embeddings**: 텍스트 임베딩
- **BM25**: 키워드 기반 검색
- **Ensemble Retriever**: 하이브리드 검색
- **Contextual Compression**: 문서 압축

## 프로젝트 구조

```
alimtalk-chatbot/
├── src/
│   ├── routes/
│   │   ├── chatbot.py          # 챗봇 API 라우트
│   │   └── user.py             # 사용자 관리 라우트
│   ├── models/
│   │   └── user.py             # 데이터베이스 모델
│   ├── static/                 # React 빌드 파일
│   │   ├── index.html
│   │   └── assets/
│   └── main.py                 # Flask 메인 애플리케이션
├── data/                       # 알림톡 관련 데이터
│   ├── alimtalk_guide.jsonl
│   ├── approved_templates.txt
│   ├── rejected_templates.txt
│   ├── compliance_rules.txt
│   └── generation_rules.txt
├── vector_db/                  # ChromaDB 벡터 데이터베이스
├── venv/                       # Python 가상환경
└── requirements.txt            # Python 의존성
```

## 설치 및 실행

### 1. 환경 설정
```bash
cd alimtalk-chatbot
source venv/bin/activate
```

### 2. 환경 변수 설정
```bash
# .env 파일 생성
echo "OPENAI_API_KEY=your_openai_api_key_here" > .env
```

### 3. 애플리케이션 실행
```bash
python src/main.py
```

애플리케이션이 http://localhost:5000 에서 실행됩니다.

## API 엔드포인트

### POST /api/chat
챗봇과의 대화를 처리합니다.

**요청 본문:**
```json
{
  "message": "주문 완료 알림 템플릿을 만들어주세요",
  "state": {}
}
```

**응답:**
```json
{
  "success": true,
  "response": "AI 응답 메시지",
  "state": {},
  "options": ["선택지1", "선택지2"],
  "template": "최종 템플릿 텍스트",
  "step": "current_step"
}
```

## 주요 특징

### 🎯 사용자 친화적 인터페이스
- 직관적인 채팅 인터페이스
- 단계별 진행 상황 시각화
- 실시간 피드백 제공
- 모바일 최적화

### 🧠 지능형 AI 시스템
- 컨텍스트 인식 대화
- 다단계 추론 과정
- 자동 오류 수정
- 학습 기반 개선

### 📊 데이터 기반 검증
- 과거 승인/반려 사례 분석
- 규정 준수 자동 검증
- 증거 기반 판단
- 개선 제안 제공

### 🔄 유연한 워크플로우
- 기존 템플릿 재사용
- 신규 템플릿 생성
- 다양한 스타일 지원
- 수동 수정 가능

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

